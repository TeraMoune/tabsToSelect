/**!
 * Плагин для реализации адаптивных табов, превращающихся в селект
 * @link https://github.com/pafnuty/tabsToSelect
 * @date 27.10.2015
 * @version 1.0.0
 * 
 */
!function(t,e,i){"use strict";function s(e,i){this.settings=t.extend({},o,i),this._defaults=o,this.init()}var n="tabsToSelect",a=0,c=t(e),r=t(".tts-tabs"),o={selectCalss:"",selectWrapperCalss:"",onInit:function(){},beforeTabSwich:function(t){return!0},afterTabSwich:function(t){},onResized:function(){}};t.extend(s.prototype,{init:function(){var e=this;t.each(r,function(){var i=t(this),s=t('<select class="tts-tabs-select '+e.settings.selectCalss+'" />'),a=i.find(".tts-tabs-switcher"),c=[];t.each(a,function(e,i){var s=t(i),n=(s.data(),s.hasClass("active")?"selected":""),a='<option value="'+e+'" '+n+">"+s.text()+"</option>";c.push(a)}),s.html(c.join("")).on("change."+n,function(e){if(!e.flag){var i=1*t(this).val();t(this).trigger({type:"tabSwitch."+n,tab:i})}}),i.prepend(s).on("click."+n,".tts-tabs-switcher:not(.active)",function(){var e=t(this).index();t(this).trigger({type:"tabSwitch."+n,tab:e})}).on("tabSwitch."+n,function(c){var r=e.settings.beforeTabSwich.call(i,c);if(!r)return!1;var o=t(a[c.tab]),l=o.closest(".tts-tabs").find(".tts-tabs-item"),f=l.eq(o.index());s.val(c.tab).trigger({type:"change",flag:!0}),o.addClass("active").siblings().removeClass("active"),l.removeClass("active"),f.addClass("active"),o.trigger({type:"tabClick."+n,tab:f}),e.settings.afterTabSwich.call(i,c)}),s.wrap('<div class="tts-tabs-select-wrapper '+e.settings.selectWrapperCalss+'"></div>')}),c.on("resize."+n+" orientationchange."+n,function(t){e.winResize(t)}),e.settings.onInit.call(r)},winResize:function(){if(event&&("resize"===event.type||"orientationchange"===event.type)){var t=c.width(),e=this;if(t===a)return;e.settings.onResized.call(),a=t}}}),"undefined"==typeof t[n]&&(t[n]=function(t){return new s(this,t)})}(jQuery,window,document);