/**!
 * Плагин для реализации адаптивных табов, превращающихся в селект
 * @link https://github.com/pafnuty/tabsToSelect (Old)
 * @link https://github.com/TeraMoune/tabsToSelect (Update)
 * @date 15.04.2019
 * @version 1.0.3
 * 
 */
!function(l){jQuery.fn.extend({tabsToSelect:function(t){var o=0,n=l.extend({selectCalss:"",selectWrapperCalss:"",selectAppendTo:"",mainWrapperClass:"",ObjbgColor:"",selectEnable:!1,topBorderTabsColor:!0,onInit:function(){},beforeTabSwich:function(t){return!0},afterTabSwich:function(t){},onResized:function(){}},t);function e(t){l.each(t,function(){var a=l(this),r=l('<select class="tts-tabs-select '+n.selectCalss+'" />'),i=a.find(".tts-tabs-switcher"),c=[];if(n.selectEnable)if(l.each(i,function(t,e){var o=l(e),s='<option value="'+t+'" '+(o.hasClass("active")?"selected":"")+">"+o.text()+"</option>";c.push(s)}),r.html(c.join("")).on("change",function(t){if(!t.flag){var e=1*l(this).val();l(this).trigger({type:"tabSwitch",tab:e})}}),n.selectAppendTo){var t=a.find(n.selectAppendTo);t.length?r.appendTo(t):a.prepend(r)}else a.prepend(r);if(a.on("click",".tts-tabs-switcher:not(.active)",function(){var t=l(this).index(),e=l(this).attr("data-color");l(this).trigger({type:"tabSwitch",tab:t,color:e})}).on("tabSwitch",function(t){if(n.beforeTabSwich.call(e,t)){var e=l(i[t.tab]),o=e.closest(a).find(".tts-tabs-item"),s=o.eq(e.index());r.val(t.tab).trigger({type:"change",flag:!0}),e.addClass("active").siblings().removeClass("active").removeAttr("style"),o.removeClass("active").removeAttr("style"),s.addClass("active"),t.color&&(n.ObjbgColor?l(n.ObjbgColor).css({background:t.color}):n.mainWrapperClass?setTimeout(function(){n.topBorderTabsColor?e.css({"border-top-color":t.color}):(e.css({background:t.color,"border-bottom":"solid 1px "+t.color}),s.css({background:t.color}))},16):n.topBorderTabsColor?e.css({"border-top-color":t.color}):(e.css({background:t.color,"border-bottom":"solid 1px "+t.color}),s.css({background:t.color}))),e.trigger({type:"tabClick",tab:s})}n.afterTabSwich.call(a,t)}),r.wrap('<div class="tts-tabs-select-wrapper '+n.selectWrapperCalss+'"></div>'),n.mainWrapperClass&&a.addClass(n.mainWrapperClass),a.find(".tts-tabs-switcher.active").html())var e=a.find(".tts-tabs-switcher.active").index(),o=a.find(".tts-tabs-switcher.active").attr("data-color");else e=a.find(".tts-tabs-switcher:eq(0)").index(),o=a.find(".tts-tabs-switcher:eq(0)").attr("data-color");l(this).trigger({type:"tabSwitch",tab:e,color:o})}),l(window).on("resize orientationchange",function(t){!function(t){if(t&&("resize"===t.type||"orientationchange"===t.type)){var e=l(window).width();if(e===o)return;n.onResized(),o=e}}(t)}),n.onInit.call(t)}return this.each(function(){e(l(this))}),this}}),jQuery.fn.extend({tabsToSelect:jQuery.fn.tabsToSelect})}(jQuery);
